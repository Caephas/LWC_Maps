<!-- This file contains all the necessary code  required to 
            create a new Referral source frontend -->


<template>
    <h3 class="slds-section__title slds-theme_info">
        <span class="slds-truncate slds-var-p-horizontal_small" title="Section Title">Information</span>
    </h3>
    <lightning-card>
        <lightning-layout multiple-rows="true">
            <lightning-layout-item size="4" padding="around-small">
                <lightning-input label="Referral Source Name" type="text" required name="Name" value={Name}>
                </lightning-input>
            </lightning-layout-item>
        </lightning-layout>
        <lightning-layout multiple-rows="false">
            <lightning-layout-item size="4" padding="around-small">
                <lightning-input label="Total Expenses" type="text" name="Total_Expenses__c" value={Total_Expenses__c}>
                </lightning-input>
            </lightning-layout-item>
            <lightning-layout-item size="4" padding="around-small">
                <lightning-input label="Number of Referrals - Total" type="text" name="Number_of_Referrals_Total__c"
                    value={Number_of_Referrals_Total__c}>
                </lightning-input>
            </lightning-layout-item>


            <!-- <lightning-layout-item>
                <c-search-record-lwc object-api-name="Contact" onrecordselected={handleRecordSelected}>
                </c-search-record-lwc>
            </lightning-layout-item> -->
        </lightning-layout>

        <lightning-layout multiple-rows="true">
            <lightning-layout-item size="4" padding="around-small">
                <lightning-input label="Number of Activities - Last 30 days" type="text"
                    name="Number_of_Activities_Last_30_days__c" value={Number_of_Activities_Last_30_days__c}>
                </lightning-input>
            </lightning-layout-item>
        </lightning-layout>
    </lightning-card>
    <h3 class="slds-section__title slds-theme_info">
        <span class="slds-truncate slds-var-p-horizontal_small" title="Section Title">Referral Information</span>
    </h3>
    <lightning-card>
        <lightning-layout multiple-rows="true">
            <lightning-layout-item size="4" padding="around-small">
                <lightning-input label="Number of Accepted Referrals" type="text" name="Name" value={Name}>
                </lightning-input>
            </lightning-layout-item>
            <lightning-layout-item size="4" padding="around-small">
                <lightning-input label="Number of Referrals Since 3/1" type="text" name="Name" value={Name}>
                </lightning-input>
            </lightning-layout-item>
        </lightning-layout>
        <lightning-layout multiple-rows="true">
            <lightning-layout-item size="2" padding="around-small">
                <lightning-input label="Date of Most Recent Referral" type="date"
                    name=" Date_of_Most_Recent_Referral__c " value={Date_of_Most_Recent_Referral__c}>
                </lightning-input>
            </lightning-layout-item>
        </lightning-layout>
    </lightning-card>
    <h3 class="slds-section__title slds-theme_info">
        <span class="slds-truncate slds-var-p-horizontal_small" title="Section Title">Contact Card_Superceded</span>
    </h3>
    <lightning-card>
        <lightning-layout multiple-rows="true">
            <lightning-layout-item size="4" padding="around-small">
                <lightning-input label="Contact Person Phone" type="text" name="Contact_Person_Phone__c"
                    value={Contact_Person_Phone__c}>
                </lightning-input>
            </lightning-layout-item>
            <lightning-layout-item size="4" padding="around-small">
                <lightning-input label="Contact Person Fax Number" type="text" name="Contact_Person_Fax_Number__c"
                    value={Contact_Person_Fax_Number__c}>
                </lightning-input>
            </lightning-layout-item>
        </lightning-layout>
        <lightning-layout>
            <lightning-layout-item size="4" padding="around-small">
                <lightning-input label="Contact Person Email" type="text" name="Contact_Person_Email__c"
                    value={Contact_Person_Email__c}>
                </lightning-input>
            </lightning-layout-item>
        </lightning-layout>
    </lightning-card>
    <h3 class="slds-section__title slds-theme_info">
        <span class="slds-truncate slds-var-p-horizontal_small" title="Section Title">Admin Information</span>
    </h3>
    <lightning-card>
        <lightning-layout>
            <lightning-layout-item size="4" padding="around-small">
                <lightning-input label="Ownership" type="picklist" name="Ownership__c" value={Ownership__c}>
                </lightning-input>
                <lightning-input label="Marketers from Referrals" type="textArea" name="Marketers_from_Referrals__c"
                    value={Marketers_from_Referrals__c}>
                </lightning-input>
            </lightning-layout-item>
        </lightning-layout>
    </lightning-card>
   
    <lightning-card>
         
        <!--  TODO : @Arinze resize the lightning layout items using the size property !!!!  -->
        <lightning-layout multiple-rows="true">
            <lightning-layout-item size="4">
                <div class="slds-form-element">
                    <div class="slds-form-element__control">
                        <div class="slds-combobox_container">
                            <div class="slds-combobox slds-dropdown-trigger slds-dropdown-trigger_click slds-is-open"
                                aria-expanded="true" aria-haspopup="listbox" role="combobox">
                                <div class="slds-combobox__form-element slds-input-has-icon slds-input-has-icon_right"
                                    role="none">

                                    <!--  TODO : REPLICATE STYLE FROM SEARCH RECORD LWC HERE  -->
                                    <lightning-input label="Address Search" placeholder="Search Address"
                                        value={addressSearchInput} onchange={handleSearchAddress}>
                                    </lightning-input>
                                </div>
                                <template if:true={displayPredictions}>
                                    <div class="slds-dropdown slds-dropdown_length-5 slds-dropdown_large"
                                        role="listbox">
                                        <div id="main_navigation">
                                            <ul class="slds-listbox slds-listbox_vertical" role="presentation">
                                                <template for:each={addressPredictions} for:item="result">
                                                    <li key={result.key} role="presentation" class="slds-listbox__item"
                                                        data-value={result.value} onclick={handleChangePrediction}>
                                                        <div class="slds-media slds-listbox__option slds-listbox__option_plain slds-media_small"
                                                            role="option">
                                                            <span
                                                                class="slds-media__figure slds-listbox__option-icon"></span>
                                                            <span class="slds-media__body">
                                                                <span class="slds-truncate"
                                                                    title="Groups">{result.label}</span>
                                                            </span>
                                                        </div>
                                                    </li>
                                                </template>
                                            </ul>
                                        </div>
                                    </div>


                                </template>
                            </div>
                        </div>
                    </div>
                </div>
            </lightning-layout-item>

            <lightning-layout-item size="8">
                <lightning-input-address address-label="Address" city={addressInfo.city} city-label="City"
                    country-label="Country" country={addressInfo.country} street={addressInfo.street}
                    street-label="Street" province-label="Province/State" province={addressInfo.state}
                    postal-code-label="Postal Code" postal-code={addressInfo.zip} onchange={handleChangeAddress}>
                </lightning-input-address>
            </lightning-layout-item>
        </lightning-layout>



        <!-- <template if:true={addressIsGeocode}>
            <lightning-input type="number" name="longitude" label="Longitude" value={addressInfoGeocode.lng}>
            </lightning-input>
            <lightning-input type="number" name="latitude" label="Latitude" value={addressInfoGeocode.lat}>
            </lightning-input>
        </template> -->


       
        <lightning-layout-item>
            <c-lwc-map address-information={mapAddressInfo}></c-lwc-map>
        </lightning-layout-item>



    </lightning-card>


</template>